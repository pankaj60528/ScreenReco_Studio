{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 58, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/rohit/OneDrive/Desktop/shareable-screen-studio/app/api/videos/route.ts"],"sourcesContent":["import { NextResponse } from \"next/server\";\nimport fs from 'fs/promises';\nimport path from 'path';\n\nconst dataDir = path.join(process.cwd(), 'data');\nconst dataFile = path.join(dataDir, 'videos.json');\n\nasync function getAllVideos() {\n  try {\n    await fs.mkdir(dataDir, { recursive: true });\n    const content = await fs.readFile(dataFile, 'utf-8');\n    const store = JSON.parse(content);\n    return store.videos || [];\n  } catch {\n    return [];\n  }\n}\n\nexport async function GET() {\n  try {\n    const videos = await getAllVideos();\n    // Sort by creation date (newest first)\n    const sortedVideos = videos.sort((a: any, b: any) => \n      new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime()\n    );\n    return NextResponse.json({ videos: sortedVideos });\n  } catch (error) {\n    console.error(\"Failed to fetch videos:\", error);\n    return NextResponse.json({ error: \"Failed to fetch videos\" }, { status: 500 });\n  }\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;;;;AAEA,MAAM,UAAU,4GAAI,CAAC,IAAI,CAAC,QAAQ,GAAG,IAAI;AACzC,MAAM,WAAW,4GAAI,CAAC,IAAI,CAAC,SAAS;AAEpC,eAAe;IACb,IAAI;QACF,MAAM,gIAAE,CAAC,KAAK,CAAC,SAAS;YAAE,WAAW;QAAK;QAC1C,MAAM,UAAU,MAAM,gIAAE,CAAC,QAAQ,CAAC,UAAU;QAC5C,MAAM,QAAQ,KAAK,KAAK,CAAC;QACzB,OAAO,MAAM,MAAM,IAAI,EAAE;IAC3B,EAAE,OAAM;QACN,OAAO,EAAE;IACX;AACF;AAEO,eAAe;IACpB,IAAI;QACF,MAAM,SAAS,MAAM;QACrB,uCAAuC;QACvC,MAAM,eAAe,OAAO,IAAI,CAAC,CAAC,GAAQ,IACxC,IAAI,KAAK,EAAE,SAAS,EAAE,OAAO,KAAK,IAAI,KAAK,EAAE,SAAS,EAAE,OAAO;QAEjE,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,QAAQ;QAAa;IAClD,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,2BAA2B;QACzC,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAyB,GAAG;YAAE,QAAQ;QAAI;IAC9E;AACF"}}]
}